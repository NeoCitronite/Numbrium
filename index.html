<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Numbrium</title>
  <style>
    :root{
      --cell: 76px;
      --gap: 10px;
      --radius: 16px;
      --shadow: 0 10px 30px rgba(0,0,0,.12);
      --bg: #0b1020;
      --panel: rgba(255,255,255,.08);
      --panel-strong: rgba(255,255,255,.12);
      --accent: #4dd0ff;
      --accent-soft: rgba(77,208,255,.18);
      --accent-strong: #00c2ff;
      --bad: #ff4d6a;
      --good: #5be37a;
      --muted: #9ba4c4;
      --text: #f6f7ff;
      --tile: rgba(13,18,40,.9);
      --tile-border: rgba(255,255,255,.08);
      --tile-selected: rgba(103,180,255,.24);
      --tile-hover: rgba(255,255,255,.12);
      --sum-bg: rgba(9,14,35,.98);
      --sum-border: rgba(255,255,255,.18);
      --sum-ok: rgba(0,200,140,.14);
      --sum-bad: rgba(230,80,120,.16);
      --sum-ok-border: rgba(0,220,160,.9);
      --sum-bad-border: rgba(250,90,140,.9);
      --stroke: rgba(255,255,255,.18);
    }

    *{
      box-sizing:border-box;
    }

    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background: radial-gradient(1000px 700px at 30% 20%, #1b2a6b 0%, transparent 55%),
                  radial-gradient(900px 650px at 70% 70%, #5a1c5f 0%, transparent 55%),
                  var(--bg);
      color: var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      padding: 24px;
    }
    .app{
      width:min(640px, 100%);
      background: rgba(255,255,255,.06);
      border: 1px solid var(--stroke);
      border-radius: 24px;
      box-shadow: var(--shadow);
      padding: 18px;
      backdrop-filter: blur(10px);
    }
    header{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      margin-bottom: 14px;
    }
    .title h1{
      font-size: 18px;
      letter-spacing:.02em;
      margin:0 0 4px;
      display:flex;
      align-items:center;
      gap:6px;
    }
    .title h1::before{
      content:"Î£";
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:22px;
      height:22px;
      font-size:14px;
      border-radius:999px;
      background: radial-gradient(circle at 30% 20%, #4dd0ff 0%, #0066ff 55%, #020314 100%);
      box-shadow:0 0 18px rgba(77,208,255,.7);
      color:#fff;
    }
    .title p{
      margin:0;
      color: var(--muted);
      font-size: 13px;
    }

    .controls{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      justify-content:flex-end;
    }
    button{
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(3,7,28,.9);
      color: var(--text);
      font-size: 12px;
      padding: 6px 12px;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:6px;
      transition: background .15s ease, border-color .15s ease, transform .08s ease, box-shadow .15s ease;
      box-shadow: 0 0 0 rgba(0,0,0,0);
    }
    button.primary{
      background: linear-gradient(135deg, #00c2ff, #4dd0ff);
      border-color: transparent;
      color:#021222;
      font-weight:600;
      box-shadow:0 0 0 rgba(0,0,0,0.18);
    }
    button.primary:hover{
      background: linear-gradient(135deg, #22d0ff, #70ddff);
      transform: translateY(-1px);
      box-shadow:0 6px 12px rgba(0,0,0,.35);
    }
    button:not(.primary):hover{
      background: rgba(255,255,255,.10);
      border-color: rgba(120,200,255,.40);
      transform: translateY(-0.5px);
      box-shadow:0 4px 10px rgba(0,0,0,.25);
    }
    button:active{
      transform: translateY(1px) scale(.98);
      box-shadow:0 1px 4px rgba(0,0,0,.5);
    }
    button:focus-visible{
      outline: 2px solid var(--accent);
      outline-offset: 1px;
    }
    button[disabled]{
      opacity:.7;
      cursor:default;
      box-shadow:none;
      transform:none;
    }
    button[disabled]:hover{
      background: rgba(3,7,28,.9);
      border-color: rgba(255,255,255,.18);
    }

    .stats{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      margin: 10px 0 14px;
      color: var(--muted);
      font-size: 13px;
    }
    .pill{
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.06);
      padding: 8px 10px;
      border-radius: 999px;
    }

    /* BOARD */
    .boardWrap{
      display:flex;
      justify-content:center;
      padding: 14px;
      border-radius: 20px;
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,.16);
      overflow-x:auto;
    }

    /* columns = N tiles + 1 sums column */
    .board{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(var(--cell), auto));
      gap: var(--gap);
      align-items:center;
      justify-items:center;
      position:relative;
    }

    .tile{
      width: var(--cell);
      height: var(--cell);
      border-radius: var(--radius);
      background: var(--tile);
      border: 1px solid var(--tile-border);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size: 22px;
      font-weight:500;
      color: #e9ecff;
      cursor:pointer;
      user-select:none;
      position:relative;
      overflow:hidden;
      box-shadow: 0 10px 18px rgba(0,0,0,.45);
      transition: background .12s ease, border-color .12s ease, box-shadow .12s ease, transform .1s ease;
    }
    .tile::before{
      content:"";
      position:absolute;
      inset:0;
      background: radial-gradient(circle at top left, rgba(255,255,255,.16) 0%, transparent 55%);
      mix-blend-mode: screen;
      opacity:.7;
      pointer-events:none;
    }
    .tile:hover{
      background: var(--tile-hover);
      border-color: rgba(120,200,255,.5);
      box-shadow: 0 12px 22px rgba(0,0,0,.55);
      transform: translateY(-1px);
    }
    .tile.selected{
      background: var(--tile-selected);
      border-color: var(--accent-strong);
      box-shadow: 0 0 0 1px rgba(77,208,255,.9), 0 12px 24px rgba(0,0,0,.7);
      transform: translateY(-1px);
    }
    .tile.animating{
      z-index: 2;
    }

    /* Value color hints */
    .tile.zero{
      color:#b6c0ff;
    }
    .tile.pos1{
      color:#8bedff;
      text-shadow:0 0 8px rgba(99,227,255,.6);
    }
    .tile.pos2{
      color:#4dffb5;
      text-shadow:0 0 8px rgba(77,255,181,.6);
    }
    .tile.neg1{
      color:#ff92c0;
      text-shadow:0 0 8px rgba(255,146,192,.6);
    }
    .tile.neg2{
      color:#ff6e7a;
      text-shadow:0 0 8px rgba(255,110,122,.7);
    }

    .sumCell{
      width: var(--cell);
      height: var(--cell);
      border-radius: var(--radius);
      background: var(--sum-bg);
      border: 1px dashed var(--sum-border);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size: 16px;
      font-weight:500;
      color: var(--muted);
      box-shadow: 0 10px 16px rgba(0,0,0,.5);
      user-select:none;
    }
    .sumCell.ok{
      background: linear-gradient(135deg, rgba(0,200,140,.18), rgba(0,110,60,.4));
      border-style:solid;
      border-color: var(--sum-ok-border);
      color: #b3ffdf;
      text-shadow:0 0 8px rgba(55,230,170,.9);
    }
    .sumCell.bad{
      background: linear-gradient(135deg, rgba(230,60,110,.2), rgba(128,15,45,.5));
      border-style:solid;
      border-color: var(--sum-bad-border);
      color:#ffc8da;
      text-shadow:0 0 7px rgba(255,120,160,.8);
    }

    .corner{
      width: var(--cell);
      height: var(--cell);
      border-radius: var(--radius);
      background: radial-gradient(circle at 20% 15%, rgba(255,255,255,.35), transparent 60%),
                  linear-gradient(135deg, rgba(77,208,255,.26), rgba(0,72,120,.85));
      border: 1px solid rgba(120,200,255,.7);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      font-size:22px;
      color:#ecf6ff;
      box-shadow: 0 10px 22px rgba(0,0,0,.7), 0 0 14px rgba(77,208,255,.8);
      user-select:none;
    }

    .hint{
      margin-top: 12px;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.35;
    }
    .hint code{
      font-family: ui-monospace, SFMono-Regular, Menlo, monospace;
      background: rgba(255,255,255,.10);
      padding: 2px 6px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,.16);
      color: var(--text);
    }

    /*
      Modal
    */
    .modalBackdrop{
      position:fixed;
      inset:0;
      background: rgba(3,7,25,.86);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:20;
    }
    .modal{
      background: rgba(15,24,61,.96);
      border-radius:20px;
      padding:18px 18px 16px;
      border:1px solid rgba(120,200,255,.45);
      max-width:320px;
      width:calc(100% - 40px);
      box-shadow:0 16px 40px rgba(0,0,0,.8);
      text-align:center;
    }
    .modal h2{
      margin:0 0 4px;
      font-size:18px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:6px;
    }
    .modal p{
      margin:0 0 14px;
      color: var(--muted);
      font-size:14px;
    }
    .modalActions{
      display:flex;
      justify-content:center;
      gap:10px;
    }
    .modalActions button{
      min-width:100px;
    }

    footer{
      margin-top: 10px;
      font-size: 11px;
      color: rgba(175,184,220,.85);
      text-align:center;
    }

    @media (max-width: 480px){
      :root{
        --cell: 68px;
        --gap: 8px;
      }
      header{
        flex-direction:column;
        align-items:flex-start;
      }
      .controls{
        justify-content:flex-start;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="title">
        <h1>Numbrium (Zero-Sum Swap Puzzle)</h1>
        <p>Swap adjacent tiles until every row and column sums to <b>0</b>.</p>
      </div>

      <div class="controls">
        <button id="easyBtn" class="primary">Easy (3Ã—3, âˆ’1..+1)</button>
        <button id="medBtn">Medium (4Ã—4, âˆ’2..+2)</button>
        <button id="hardBtn">Hard (4Ã—4, âˆ’4..+4)</button>
        <button id="veryHardBtn">Very Hard (5Ã—5, âˆ’4..+4)</button>
        <button id="newBtn">New Puzzle</button>
      </div>
    </header>

    <div class="stats">
      <div class="pill">Mode: <span id="modeLabel">Easy</span></div>
      <div class="pill">Size: <span id="sizeLabel">3Ã—3</span></div>
      <div class="pill">Range: <span id="rangeLabel">âˆ’1..+1</span></div>
      <div class="pill">Moves: <span id="movesLabel">0</span></div>
    </div>

    <div class="boardWrap">
      <div id="grid" class="board" aria-label="Numbrium grid"></div>
    </div>

    <div class="hint">
      Click a tile to select it, then click an <b>adjacent</b> tile to swap.
      Row totals are on the <code>right</code> and column totals are on the <code>bottom</code>.
    </div>
    <footer class="copyright">
     Copyright Â© 2026 Numbrium.com.  All Rights Reserved
    </footer>
  </div>

  <div id="modalBackdrop" class="modalBackdrop" role="dialog" aria-modal="true">
    <div class="modal">
      <h2>ðŸŽ‰ You win!</h2>
      <p id="winText">Solved!</p>
      <div class="modalActions">
        <button id="playAgainBtn" class="primary">Play again</button>
        <button id="closeModalBtn">Close</button>
      </div>
    </div>
  </div>

<script>
(() => {
  // -------- Modes --------
  // Easy: 3x3, maxAbs=1
  // Medium: 4x4, maxAbs=2
  // Hard: 4x4, maxAbs=4
  // Very Hard: 5x5, maxAbs=4
  const MODES = {
    easy:     { name:"Easy",       N:3, maxAbs:1, shuffle: 70  },
    medium:   { name:"Medium",     N:4, maxAbs:2, shuffle: 180 },
    hard:     { name:"Hard",       N:4, maxAbs:4, shuffle: 260 },
    veryHard: { name:"Very Hard",  N:5, maxAbs:4, shuffle: 420 },
  };

  // -------- State --------
  let modeKey = "easy";
  let N = MODES[modeKey].N;
  let maxAbs = MODES[modeKey].maxAbs;
  let board = [];            // NxN array of integers
  let selected = null;       // {r,c} or null
  let moves = 0;
  let busy = false;          // block input during animation

  // -------- DOM --------
  const gridEl = document.getElementById("grid");
  const movesLabel = document.getElementById("movesLabel");
  const sizeLabel = document.getElementById("sizeLabel");
  const modeLabel = document.getElementById("modeLabel");
  const rangeLabel = document.getElementById("rangeLabel");

  const easyBtn = document.getElementById("easyBtn");
  const medBtn  = document.getElementById("medBtn");
  const hardBtn = document.getElementById("hardBtn");
  const veryHardBtn = document.getElementById("veryHardBtn");
  const newBtn  = document.getElementById("newBtn");

  const modalBackdrop = document.getElementById("modalBackdrop");
  const winText = document.getElementById("winText");
  const closeModalBtn = document.getElementById("closeModalBtn");
  const playAgainBtn = document.getElementById("playAgainBtn");

  // -------- Helpers --------
  const randPick = (arr) => arr[Math.floor(Math.random() * arr.length)];

  function allowedValues() {
    const vals = [];
    for (let v = -maxAbs; v <= maxAbs; v++) vals.push(v);
    return vals;
  }
  function inRange(v) { return Math.abs(v) <= maxAbs; }

  function computeRowSums(b) {
    return b.map(row => row.reduce((a,v)=>a+v,0));
  }
  function computeColSums(b) {
    const sums = Array.from({length: b.length}, () => 0);
    for (let r=0; r<b.length; r++) for (let c=0; c<b.length; c++) sums[c] += b[r][c];
    return sums;
  }
  function isWin(b) {
    const rs = computeRowSums(b);
    const cs = computeColSums(b);
    return rs.every(x => x === 0) && cs.every(x => x === 0);
  }

  // -------- Guaranteed-solvable generator --------
  // Construct a valid "solved" board with row/col sums 0 under bounds [-maxAbs..maxAbs]
  function generateSolvedBoard() {
    const choices = allowedValues();

    for (let attempt=0; attempt<12000; attempt++) {
      const b = Array.from({length:N}, () => Array.from({length:N}, () => 0));

      // Fill (N-1)x(N-1)
      for (let r=0; r<N-1; r++) {
        for (let c=0; c<N-1; c++) {
          b[r][c] = randPick(choices);
        }
      }

      // Fix last column so each row sums to 0
      let ok = true;
      for (let r=0; r<N-1; r++) {
        const partial = b[r].slice(0, N-1).reduce((a,v)=>a+v,0);
        const needed = -partial;
        if (!inRange(needed)) { ok = false; break; }
        b[r][N-1] = needed;
      }
      if (!ok) continue;

      // Fix last row (for columns 0..N-2)
      const colSumsNoLastRow = Array.from({length:N}, () => 0);
      for (let r=0; r<N-1; r++) {
        for (let c=0; c<N; c++) colSumsNoLastRow[c] += b[r][c];
      }

      for (let c=0; c<N-1; c++) {
        const needed = -colSumsNoLastRow[c];
        if (!inRange(needed)) { ok = false; break; }
        b[N-1][c] = needed;
      }
      if (!ok) continue;

      // Determine bottom-right cell to satisfy both last row & last column
      const lastRowSumExceptLast = b[N-1].slice(0, N-1).reduce((a,v)=>a+v,0);
      const neededRow = -lastRowSumExceptLast;

      const lastColSumExceptLast = colSumsNoLastRow[N-1];
      const neededCol = -lastColSumExceptLast;

      if (neededRow !== neededCol || !inRange(neededRow)) continue;
      b[N-1][N-1] = neededRow;

      // avoid trivial all-zero board
      if (b.flat().every(v => v === 0)) continue;

      if (isWin(b)) return b;
    }

    // fallback (valid patterns)
    if (N === 3 && maxAbs >= 1) {
      return [
        [ 1,  0, -1],
        [-1,  1,  0],
        [ 0, -1,  1]
      ];
    }
    if (N === 4 && maxAbs >= 2) {
      return [
        [  2,  0, -2,  0],
        [  0,  2,  0, -2],
        [ -2,  0,  2,  0],
        [  0, -2,  0,  2]
      ];
    }
    if (N === 4 && maxAbs >= 4) {
      return [
        [  4,  0, -4,  0],
        [  0,  4,  0, -4],
        [ -4,  0,  4,  0],
        [  0, -4,  0,  4]
      ];
    }
    if (N === 5 && maxAbs >= 4) {
      return [
        [  4,  0, -4,  0,  0],
        [  0,  4,  0, -4,  0],
        [ -4,  0,  4,  0,  0],
        [  0, -4,  0,  4,  0],
        [  0,  0,  0,  0,  0]
      ];
    }
    // Generic small non-trivial fallback (for unexpected combos)
    const fb = Array.from({length:N}, () => Array.from({length:N}, () => 0));
    if (N >= 2 && maxAbs > 0) {
      const m = Math.min(maxAbs, 4);
      fb[0][0] =  m;
      fb[0][1] = -m;
      fb[1][0] = -m;
      fb[1][1] =  m;
    }
    return fb;
  }

  // Shuffle using adjacent swaps so puzzle is always solvable
  function shuffleFromSolved(solved, swapsCount) {
    const b = solved.map(row => row.slice());

    let r = Math.floor(Math.random()*N);
    let c = Math.floor(Math.random()*N);

    const dirs = [
      [1,0],[-1,0],[0,1],[0,-1]
    ];

    for (let k=0; k<swapsCount; k++) {
      const [dr,dc] = randPick(dirs);
      const nr = r+dr, nc = c+dc;
      if (nr<0 || nr>=N || nc<0 || nc>=N) continue;

      const tmp = b[r][c];
      b[r][c] = b[nr][nc];
      b[nr][nc] = tmp;

      r = nr; c = nc;
    }

    return b;
  }

  // Render board into DOM
  function render() {
    gridEl.innerHTML = "";
    gridEl.style.gridTemplateColumns = `repeat(${N + 1}, var(--cell))`;

    const rowSums = computeRowSums(board);
    const colSums = computeColSums(board);

    // tiles + row sums
    for (let r=0; r<N; r++) {
      for (let c=0; c<N; c++) {
        const value = board[r][c];
        const tile = document.createElement("div");
        tile.className = "tile";
        tile.dataset.r = r;
        tile.dataset.c = c;

        let cls = "tile";
        if (value === 0) cls += " zero";
        else if (value > 0 && Math.abs(value) === 1) cls += " pos1";
        else if (value > 0) cls += " pos2";
        else if (value < 0 && Math.abs(value) === 1) cls += " neg1";
        else if (value < 0) cls += " neg2";
        tile.className = cls;

        tile.textContent = value > 0 ? `+${value}` : `${value}`;

        if (selected && selected.r === r && selected.c === c) tile.classList.add("selected");
        tile.addEventListener("click", onTileClick);
        gridEl.appendChild(tile);
      }

      // Row sum on the right
      const sum = rowSums[r];
      const sumEl = document.createElement("div");
      sumEl.className = `sumCell ${sum === 0 ? "ok" : "bad"}`;
      sumEl.textContent = sum;
      sumEl.title = "Row total";
      gridEl.appendChild(sumEl);
    }

    // Column sums on bottom
    for (let c=0; c<N; c++) {
      const sum = colSums[c];
      const sumEl = document.createElement("div");
      sumEl.className = `sumCell ${sum === 0 ? "ok" : "bad"}`;
      sumEl.textContent = sum;
      sumEl.title = "Column total";
      gridEl.appendChild(sumEl);
    }

    // Bottom-right corner
    const corner = document.createElement("div");
    corner.className = "corner";
    corner.textContent = "Î£";
    gridEl.appendChild(corner);

    movesLabel.textContent = String(moves);
    sizeLabel.textContent = `${N}Ã—${N}`;
    modeLabel.textContent = MODES[modeKey].name;
    rangeLabel.textContent = `${maxAbs === 0 ? "0" : `âˆ’${maxAbs}..+${maxAbs}`}`;
  }

  function setMode(newKey) {
    modeKey = newKey;
    N = MODES[modeKey].N;
    maxAbs = MODES[modeKey].maxAbs;

    easyBtn.classList.remove("primary");
    medBtn.classList.remove("primary");
    hardBtn.classList.remove("primary");
    veryHardBtn.classList.remove("primary");

    if (modeKey === "easy")      easyBtn.classList.add("primary");
    else if (modeKey === "medium")   medBtn.classList.add("primary");
    else if (modeKey === "hard")     hardBtn.classList.add("primary");
    else if (modeKey === "veryHard") veryHardBtn.classList.add("primary");

    newGame();
  }

  function isAdjacent(a, b) {
    if (!a || !b) return false;
    const dr = Math.abs(a.r - b.r);
    const dc = Math.abs(a.c - b.c);
    return (dr + dc) === 1;
  }

  function getTileEl(r,c){
    return gridEl.querySelector(`.tile[data-r="${r}"][data-c="${c}"]`);
  }

  function doSwapWithAnimation(a, b) {
    if (busy) return;
    busy = true;

    const elA = getTileEl(a.r, a.c);
    const elB = getTileEl(b.r, b.c);
    if (!elA || !elB) { busy = false; return; }

    const rootStyles = getComputedStyle(document.documentElement);
    const cellSize = parseFloat(rootStyles.getPropertyValue("--cell")) || 76;
    const gap = parseFloat(rootStyles.getPropertyValue("--gap")) || 10;
    const delta = cellSize + gap;

    const dr = b.r - a.r;
    const dc = b.c - a.c;

    const offsetA = `translate(${dc * delta}px, ${dr * delta}px)`;
    const offsetB = `translate(${-dc * delta}px, ${-dr * delta}px)`;

    elA.style.transition = "transform 0.22s ease";
    elB.style.transition = "transform 0.22s ease";

    elA.classList.add("animating");
    elB.classList.add("animating");

    requestAnimationFrame(() => {
      elA.style.transform = offsetA;
      elB.style.transform = offsetB;
    });

    setTimeout(() => {
      // Swap in data
      const t = board[a.r][a.c];
      board[a.r][a.c] = board[b.r][b.c];
      board[b.r][b.c] = t;

      moves += 1;
      selected = null;

      // cleanup
      elA.style.transform = "";
      elB.style.transform = "";
      elA.classList.remove("animating");
      elB.classList.remove("animating");

      render();

      if (isWin(board)) showWinModal();
      busy = false;
    }, 240);
  }

  function onTileClick(e) {
    if (busy) return;

    const r = parseInt(e.currentTarget.dataset.r, 10);
    const c = parseInt(e.currentTarget.dataset.c, 10);

    if (!selected) {
      selected = {r,c};
      render();
      return;
    }

    if (selected.r === r && selected.c === c) {
      selected = null;
      render();
      return;
    }

    const target = {r,c};
    if (isAdjacent(selected, target)) {
      doSwapWithAnimation(selected, target);
    } else {
      selected = target;
      render();
    }
  }

  // -------- Modal --------
  function showWinModal(){
    winText.textContent = `Solved! Moves: ${moves}.`;
    modalBackdrop.style.display = "flex";
  }
  function hideWinModal(){
    modalBackdrop.style.display = "none";
  }

  // -------- New Game --------
  function newGame() {
    hideWinModal();
    selected = null;
    moves = 0;

    const solved = generateSolvedBoard();
    const shuffleCount = MODES[modeKey].shuffle;
    board = shuffleFromSolved(solved, shuffleCount);

    if (isWin(board)) {
      board = shuffleFromSolved(solved, shuffleCount + 40);
    }

    render();
  }

  // -------- Events --------
  easyBtn.addEventListener("click", () => setMode("easy"));
  medBtn.addEventListener("click",  () => setMode("medium"));
  hardBtn.addEventListener("click", () => setMode("hard"));
  veryHardBtn.addEventListener("click", () => setMode("veryHard"));
  newBtn.addEventListener("click", newGame);

  closeModalBtn.addEventListener("click", hideWinModal);
  playAgainBtn.addEventListener("click", newGame);
  modalBackdrop.addEventListener("click", (e) => {
    if (e.target === modalBackdrop) hideWinModal();
  });

  // Start
  setMode("easy");
})();
</script>
</body>
</html>


